'use client';
import e,{isValidElement as t,useRef as n,useLayoutEffect as o,useEffect as s,cloneElement as r,useReducer as a,useState as i,Fragment as l,forwardRef as c}from"react";import u from"clsx";const d=e=>"number"==typeof e&&!isNaN(e),p=e=>"string"==typeof e,m=e=>"function"==typeof e,f=e=>p(e)||m(e)?e:null,g=e=>t(e)||p(e)||m(e)||d(e);function h(e,t,n){void 0===n&&(n=300);const{scrollHeight:o,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=o+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)})})}function y(t){let{enter:r,exit:a,appendPosition:i=!1,collapse:l=!0,collapseDuration:c=300}=t;return function(t){let{children:u,position:d,preventExitTransition:p,done:m,nodeRef:f,isIn:g}=t;const y=i?`${r}--${d}`:r,v=i?`${a}--${d}`:a,T=n(0);return o(()=>{const e=f.current,t=y.split(" "),n=o=>{o.target===f.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===T.current&&"animationcancel"!==o.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),s(()=>{const e=f.current,t=()=>{e.removeEventListener("animationend",t),l?h(e,m,c):m()};g||(p?t():(T.current=1,e.className+=` ${v}`,e.addEventListener("animationend",t)))},[g]),e.createElement(e.Fragment,null,u)}}function v(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const T={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(e=>e!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},E=t=>{let{theme:n,type:o,...s}=t;return e.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":`var(--toastify-icon-color-${o})`,...s})},C={info:function(){return e.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"#fff",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M12 8H12.01M12 11V16M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"#f1c40f",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},warning:function(t){return e.createElement(E,{...t},e.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(){return e.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("circle",{cx:"14",cy:"14",r:"14",fill:"#FFF1E7"}),e.createElement("path",{d:"M18.4795 10.6406L12.3195 16.8006L9.51953 14.0006",stroke:"#03CFA3",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},error:function(){return e.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("circle",{cx:"14",cy:"14",r:"14",fill:"white"}),e.createElement("path",{d:"M17 11L11 17",stroke:"#F31C1C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M11 11L17 17",stroke:"#F31C1C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},spinner:function(){return e.createElement("div",{className:"Toastify__spinner"})}};function I(e){const[,o]=a(e=>e+1,0),[l,c]=i([]),u=n(null),h=n(new Map).current,y=e=>-1!==l.indexOf(e),E=n({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:y,getToast:e=>h.get(e)}).current;function I(e){let{containerId:t}=e;const{limit:n}=E.props;!n||t&&E.containerId!==t||(E.count-=E.queue.length,E.queue=[])}function L(e){c(t=>null==e?[]:t.filter(t=>t!==e))}function b(){const{toastContent:e,toastProps:t,staleId:n}=E.queue.shift();w(e,t,n)}function _(e,n){let{delay:s,staleId:a,...i}=n;if(!g(e)||function(e){return!u.current||E.props.enableMultiContainer&&e.containerId!==E.props.containerId||h.has(e.toastId)&&null==e.updateId}(i))return;const{toastId:l,updateId:c,data:y}=i,{props:I}=E,_=()=>L(l),O=null==c;O&&E.count++;const k={...I,style:I.toastStyle,key:E.toastKey++,...Object.fromEntries(Object.entries(i).filter(e=>{let[t,n]=e;return null!=n})),toastId:l,updateId:c,data:y,closeToast:_,isIn:!1,className:f(i.className||I.toastClassName),bodyClassName:f(i.bodyClassName||I.bodyClassName),progressClassName:f(i.progressClassName||I.progressClassName),autoClose:!i.isLoading&&(N=i.autoClose,x=I.autoClose,!1===N||d(N)&&N>0?N:x),deleteToast(){const e=v(h.get(l),"removed");h.delete(l),T.emit(4,e);const t=E.queue.length;if(E.count=null==l?E.count-E.displayedToast:E.count-1,E.count<0&&(E.count=0),t>0){const e=null==l?E.props.limit:1;if(1===t||1===e)E.displayedToast++,b();else{const n=e>t?t:e;E.displayedToast=n;for(let e=0;e<n;e++)b()}}else o()}};var N,x;k.iconOut=function(e){let{theme:n,type:o,isLoading:s,icon:a}=e,i=null;const l={theme:n,type:o};return!1===a||(m(a)?i=a(l):t(a)?i=r(a,l):p(a)||d(a)?i=a:s?i=C.spinner():(e=>e in C)(o)&&(i=C[o](l))),i}(k),m(i.onOpen)&&(k.onOpen=i.onOpen),m(i.onClose)&&(k.onClose=i.onClose),k.closeButton=I.closeButton,!1===i.closeButton||g(i.closeButton)?k.closeButton=i.closeButton:!0===i.closeButton&&(k.closeButton=!g(I.closeButton)||I.closeButton);let M=e;t(e)&&!p(e.type)?M=r(e,{closeToast:_,toastProps:k,data:y}):m(e)&&(M=e({closeToast:_,toastProps:k,data:y})),I.limit&&I.limit>0&&E.count>I.limit&&O?E.queue.push({toastContent:M,toastProps:k,staleId:a}):d(s)?setTimeout(()=>{w(M,k,a)},s):w(M,k,a)}function w(e,t,n){const{toastId:o}=t;n&&h.delete(n);const s={content:e,props:t};h.set(o,s),c(e=>[...e,o].filter(e=>e!==n)),T.emit(4,v(s,null==s.props.updateId?"added":"updated"))}return s(()=>(E.containerId=e.containerId,T.cancelEmit(3).on(0,_).on(1,e=>u.current&&L(e)).on(5,I).emit(2,E),()=>{h.clear(),T.emit(3,E)}),[]),s(()=>{E.props=e,E.isToastActive=y,E.displayedToast=l.length}),{getToastToRender:function(t){const n=new Map,o=Array.from(h.values());return e.newestOnTop&&o.reverse(),o.forEach(e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},containerRef:u,isToastActive:y}}function L(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function b(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function _(e){const[o,r]=i(!1),[a,l]=i(!1),c=n(null),u=n({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,d=n(e),{autoClose:p,pauseOnHover:f,closeToast:g,onClick:h,closeOnClick:y}=e;function v(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),u.didMove=!1,document.addEventListener("mousemove",I),document.addEventListener("mouseup",_),document.addEventListener("touchmove",I),document.addEventListener("touchend",_);const n=c.current;u.canCloseOnClick=!0,u.canDrag=!0,u.boundingRect=n.getBoundingClientRect(),n.style.transition="",u.x=L(t.nativeEvent),u.y=b(t.nativeEvent),"x"===e.draggableDirection?(u.start=u.x,u.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(u.start=u.y,u.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function T(t){if(u.boundingRect){const{top:n,bottom:o,left:s,right:r}=u.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&u.x>=s&&u.x<=r&&u.y>=n&&u.y<=o?C():E()}}function E(){r(!0)}function C(){r(!1)}function I(t){const n=c.current;u.canDrag&&n&&(u.didMove=!0,o&&C(),u.x=L(t),u.y=b(t),u.delta="x"===e.draggableDirection?u.x-u.start:u.y-u.start,u.start!==u.x&&(u.canCloseOnClick=!1),n.style.transform=`translate${e.draggableDirection}(${u.delta}px)`,n.style.opacity=""+(1-Math.abs(u.delta/u.removalDistance)))}function _(){document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",I),document.removeEventListener("touchend",_);const t=c.current;if(u.canDrag&&u.didMove&&t){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance)return l(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform=`translate${e.draggableDirection}(0)`,t.style.opacity="1"}}s(()=>{d.current=e}),s(()=>(c.current&&c.current.addEventListener("d",E,{once:!0}),m(e.onOpen)&&e.onOpen(t(e.children)&&e.children.props),()=>{const e=d.current;m(e.onClose)&&e.onClose(t(e.children)&&e.children.props)}),[]),s(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||C(),window.addEventListener("focus",E),window.addEventListener("blur",C)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",E),window.removeEventListener("blur",C))}),[e.pauseOnFocusLoss]);const w={onMouseDown:v,onTouchStart:v,onMouseUp:T,onTouchEnd:T};return p&&f&&(w.onMouseEnter=C,w.onMouseLeave=E),y&&(w.onClick=e=>{h&&h(e),u.canCloseOnClick&&g()}),{playToast:E,pauseToast:C,isRunning:o,preventExitTransition:a,toastRef:c,eventHandlers:w}}function w(t){let{closeToast:n,theme:o,ariaLabel:s="close"}=t;return console.log(n,o,s),e.createElement(l,null)}function O(t){let{delay:n,isRunning:o,closeToast:s,type:r="default",hide:a,className:i,style:l,controlledProgress:c,progress:d,rtl:p,isIn:f,theme:g}=t;const h=a||c&&0===d,y={...l,animationDuration:`${n}ms`,animationPlayState:o?"running":"paused",opacity:h?0:1};c&&(y.transform=`scaleX(${d})`);const v=u("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":p}),T=m(i)?i({rtl:p,type:r,defaultClassName:v}):u(v,i);return e.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:T,style:y,[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{f&&s()}})}const k=n=>{const{isRunning:o,preventExitTransition:s,toastRef:a,eventHandlers:i}=_(n),{closeButton:l,children:c,autoClose:d,onClick:p,type:f,hideProgressBar:g,closeToast:h,transition:y,position:v,className:T,style:E,bodyClassName:C,bodyStyle:I,progressClassName:L,progressStyle:b,updateId:k,role:N,progress:x,rtl:M,toastId:R,deleteToast:B,isIn:$,isLoading:P,iconOut:D,closeOnClick:F,theme:A}=n,H=u("Toastify__toast",`Toastify__toast-theme--${A}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":M},{"Toastify__toast--close-on-click":F}),S=m(T)?T({rtl:M,position:v,type:f,defaultClassName:H}):u(H,T),q=!!x||!d,z={closeToast:h,type:f,theme:A};let Q=null;return!1===l||(Q=m(l)?l(z):t(l)?r(l,z):w(z)),e.createElement(y,{isIn:$,done:B,position:v,preventExitTransition:s,nodeRef:a},e.createElement("div",{id:R,onClick:p,className:S,...i,style:E,ref:a},e.createElement("div",{...$&&{role:N},className:m(C)?C({type:f}):u("Toastify__toast-body",C),style:I},null!=D&&e.createElement("div",{className:u("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},D),e.createElement("div",null,e.createElement("h5",{className:"toastify-text"},c))),Q,e.createElement(O,{...k&&!q?{key:`pb-${k}`}:{},rtl:M,theme:A,delay:d,isRunning:o,isIn:$,closeToast:h,hide:g,type:f,style:b,className:L,controlledProgress:q,progress:x||0})))},N=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},x=y(N("bounce",!0)),M=y(N("slide",!0)),R=y(N("zoom")),B=y(N("flip")),$=c((t,n)=>{const{getToastToRender:o,containerRef:r,isToastActive:a}=I(t),{className:i,style:l,rtl:c,containerId:d}=t;function p(e){const t=u("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":c});return m(i)?i({position:e,rtl:c,defaultClassName:t}):u(t,f(i))}return s(()=>{n&&(n.current=r.current)},[]),e.createElement("div",{ref:r,className:"Toastify",id:d},o((t,n)=>{const o=n.length?{...l}:{...l,pointerEvents:"none"};return e.createElement("div",{className:p(t),style:o,key:`container-${t}`},n.map((t,o)=>{let{content:s,props:r}=t;return e.createElement(k,{...r,isIn:a(r.toastId),style:{...r.style,"--nth":o+1,"--len":n.length},key:`toast-${r.key}`},s)}))}))});$.displayName="ToastContainer",$.defaultProps={position:"top-right",transition:x,autoClose:5e3,closeButton:w,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let P,D=new Map,F=[],A=1;function H(){return""+A++}function S(e){return e&&(p(e.toastId)||d(e.toastId))?e.toastId:H()}function q(e,t){return D.size>0?T.emit(0,e,t):F.push({content:e,options:t}),t.toastId}function z(e,t){return{...t,type:t&&t.type||e,toastId:S(t)}}function Q(e){return(t,n)=>q(t,z(e,n))}function W(e,t){return q(e,z("default",t))}W.loading=(e,t)=>q(e,z("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),W.promise=function(e,t,n){let o,{pending:s,error:r,success:a}=t;s&&(o=p(s)?W.loading(s,n):W.loading(s.render,{...n,...s}));const i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,s)=>{if(null==t)return void W.dismiss(o);const r={type:e,...i,...n,data:s},a=p(t)?{render:t}:t;return o?W.update(o,{...r,...a}):W(a.render,{...r,...a}),s},c=m(e)?e():e;return c.then(e=>l("success",a,e)).catch(e=>l("error",r,e)),c},W.success=Q("success"),W.info=Q("info"),W.error=Q("error"),W.warning=Q("warning"),W.warn=W.warning,W.dark=(e,t)=>q(e,z("default",{theme:"dark",...t})),W.dismiss=e=>{D.size>0?T.emit(1,e):F=F.filter(t=>null!=e&&t.options.toastId!==e)},W.clearWaitingQueue=function(e){return void 0===e&&(e={}),T.emit(5,e)},W.isActive=e=>{let t=!1;return D.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},W.update=function(e,t){void 0===t&&(t={}),setTimeout(()=>{const n=function(e,t){let{containerId:n}=t;const o=D.get(n||P);return o&&o.getToast(e)}(e,t);if(n){const{props:o,content:s}=n,r={delay:100,...o,...t,toastId:t.toastId||e,updateId:H()};r.toastId!==e&&(r.staleId=e);const a=r.render||s;delete r.render,q(a,r)}},0)},W.done=e=>{W.update(e,{progress:1})},W.onChange=e=>(T.on(4,e),()=>{T.off(4,e)}),W.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},W.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},T.on(2,e=>{P=e.containerId||e,D.set(P,e),F.forEach(e=>{T.emit(0,e.content,e.options)}),F=[]}).on(3,e=>{D.delete(e.containerId||e),0===D.size&&T.off(0).off(1).off(5)});export{x as Bounce,B as Flip,C as Icons,M as Slide,$ as ToastContainer,R as Zoom,h as collapseToast,y as cssTransition,W as toast,_ as useToast,I as useToastContainer};
//# sourceMappingURL=react-toastify.esm.mjs.map
